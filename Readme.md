# VeinSight
> vein（纹理 / 脉络）+ sight（看见），像“看见叶脉”；中文可叫「脉见」。
> “我们需要哪些视角，才能不把人压扁？”

主要功能
- 导出文档
	- 支持 apple notes
- 导出日历和提醒事项
- AI分析
	- 对接本地 ollama


## 分析逻辑


1. 数据层（数据分析师）
  模式、变化、异常

2. 语言层（语言学家）
  表达方式、叙述结构

3. 心理层（心理学家）
  状态 vs 特质，风险点

4. 情境层（社会学 / 人类学）
  环境与制度

5. 反思层（哲学 / 伦理）
我们是否越界？

📌 **禁止顺序倒置**
一旦先下心理判断，后面全是证据拼贴。


## 产品愿景

VeinSight 希望成为一个「看见心理脉络」的个人知识与情绪分析工具：

- 面向日常 memos / 日记 / 周记 / 反思记录，帮助用户在长期维度上看见自己的心理发展与叙事脉络，而不是只看单次情绪波动。
- 通过多学科视角（数据、语言、心理、情境、哲学与伦理）进行温和、可解释的分析，避免简化、贴标签或进行“伪诊断”。
- 坚持本地优先和用户数据主权，优先对接本地 Ollama 等模型，在可控的环境里做深度分析。


## 目标用户与使用场景

- 频繁写日记 / 碎片 memo 的个人，希望系统性理解自己的情绪与模式。
- 习惯做每周/每月复盘的知识工作者，希望看到更长期的叙事和角色变化。
- 有心理自助与自我照护需求，但暂时不进入正式咨询的人（**工具不是治疗，只是自助支持**）。
- 对“语言、环境、制度如何共同塑造自我体验”感兴趣的用户。

典型使用场景：
- 每天在 Apple Notes 或其他应用里写简短记录，定期导入 VeinSight，自动生成一周/一月“心理脉络小结”。
- 在重大事件前后（换工作、分手、搬家等）集中查看前后几个月的情绪模式与叙事变化。
- 在写完一段长日记后，快速获得多角度“第二视角”：数据层、语言层、心理风险点提示、情境与制度因素、反思问题建议等。


## 产品原则

- **不诊断，不贴标签**：不输出带有医学诊断含义的结论，不给出“你就是……”式结论。
- **先证据，后解释**：先做数据和语言层面分析，再谨慎给出心理与情境层面的假设性解读。
- **可被质疑与修正**：用户可以标记“不同意此结论”，并写下自己的解释，系统需要支持这种“反向标注”。
- **本地优先与数据主权**：默认所有数据与分析在本地完成，云端只是可选扩展能力。
- **温和启发而非处方**：更像“陪你看见”的伙伴，而不是“告诉你该怎么做”的指挥者。


## 功能需求（MVP + 迭代）

### 1. 记录采集与导入

- Apple Notes 导入
  - 支持从 Apple Notes 导出文本（初期可通过手动导出 / 复制粘贴，后续再做自动化方式调研）。
  - 解析时间戳、标题、文件夹路径等元信息，并与记录绑定。
- 通用文本导入
  - 支持 `.txt` / `.md` / `.json` 等基础格式。
  - 支持一次导入多条记录，并按时间或自定义分隔符切分。
- 手动输入
  - 在应用内直接新建单条记录，支持基本富文本或 Markdown（可后置）。
- 元数据
  - 时间：创建时间 / 记录中提到的“发生时间”（可选抽取）。
  - 标签：用户可自定义标签（如“工作”“亲密关系”“健康”）。


### 2. 分析路线总览

整体分析流：

1. 输入：若干条 memos / 日记 / 周记文本 + 元数据（时间、标签、情绪自评等）。
2. 预处理：去噪、分句、分段，识别同一主题相关的片段（可后续引入聚类）。
3. 多层分析：
   - 数据层：频次、模式、变化、异常点。
   - 语言层：用词、叙述结构、隐喻等。
   - 心理层：状态 vs 特质、可能的风险/保护因素。
   - 情境层：环境、制度、角色与关系网络。
   - 反思层：引导性问题与自我回应空间。
   - 伦理/法律层：隐私、越界风险提示。
4. 汇总呈现：
   - 按时间（天/周/月）生成“心理脉络小结”。
   - 提供多视图：时间线视图、主题视图、风险视图、资源视图等（MVP 先做时间线 + 简易主题视图）。
5. 用户反馈：用户可以标记“认同 / 不认同”“有帮助 / 无感”，并补充自己的理解，帮助后续分析更贴近本人。


### 3. 各分析层功能需求

#### 3.1 数据层（数据分析师视角）

- 基础统计（以周 / 月为主要节奏）
  - 记录数量、活跃天数/周数、缺失区间（长时间未记录）。
  - 主题/标签出现频率随时间的变化，**默认按周 / 月聚合**，避免对单日波动过度解读。
- 变化与趋势（强调“缓慢变化”而非“日内波动”）
  - 情绪自评分布与趋势（如滚动平均、波动度），以周 / 月为主视角，日级仅作为原始数据，不直接给出“日级心理结论”。
  - 某些主题与情绪之间的相关性（粗略探索性，不做因果断言），聚焦“最近几周 / 几个月的走势”，而不是单次情绪强烈的记录。
- 异常与拐点（相对于个人长期基线）
  - 识别**中长期模式中的偏离点**，例如：某一两周情绪明显低于过去三个月的常态，或某主题在数周内突然高频出现/消失。
  - 提供“你可以回头看看这些阶段”的温和提示，而不是对某一天的情绪做放大解读。


#### 3.2 语言层（语言学家视角）

- 表达方式
  - 第一人称 / 第二人称 / 第三人称比例变化（“我” vs “你/他们”）。
  - 情绪词、评价性词汇、绝对化表达（“永远”“一定”“完全没”）等的使用情况。
- 叙述结构
  - 事件—感受—需求—请求等叙事结构的有无与完整度（可从非暴力沟通模型汲取灵感，但保持宽松）。
  - 线性叙事 vs 片段式 vs 意识流等风格倾向（先以“是否清晰交代时间/地点/人物”为粗指标）。
- 隐喻与象征
  - 检测明显隐喻用法（如“像被关在笼子里”“像在跑步机上”），并提示其可能的情绪/需求指向——以假设语气表达。


#### 3.3 心理层（心理学家视角）

- 状态 vs 特质
  - 标记更可能是“某段时间的状态”还是“长期反复出现的模式”。
  - 对可能的“长期模式”只做温和提示，例如“这类想法在最近 X 周出现了 N 次，可以留意自己怎么看待这件事的重复性。”
- 风险与保护因素
  - 识别潜在风险信号：如无望感、极端自责、伤害自己/他人的暗示等，但输出形式为“建议寻求专业支持的温和提醒”，而非任何诊断结论。
  - 同时标记保护性资源：支持性关系、自我安抚方式、兴趣与爱好等。
- 边界与免责声明
  - 在心理层输出中，始终附带“这不是专业诊断，不替代咨询或治疗”的说明。


#### 3.4 情境层（社会学 / 人类学视角）

- 角色与场域
  - 识别文本中出现的角色：如“工作者”“子女”“伴侣”“照护者”等，以及对应的社会期待与压力源。
  - 按场域（家庭 / 职场 / 城市空间 / 网络空间等）聚合记录。
- 制度与结构
  - 将部分压力解释为结构性问题的可能性，而不是全部内化到个人责任，如“强加班文化”“不稳定劳动制度”等。
  - 提示用户：有些困境并非个人失败，而是与所处环境密切相关。


#### 3.5 反思层（哲学 / 伦理视角）

- 反思问题建议
  - 为某些主题或模式生成开放式提问，而不是答案，例如：“如果不把这件事看成是你的错，还有什么解释？”
  - 避免机械化的“鸡汤式”建议，更偏向苏格拉底式提问与自我澄清。
- 自我界限与他人
  - 引导思考“我对自己/他人/制度分别期待什么”？
- 元反思
  - 不定期提醒用户：
    - 是否把一切都看成心理问题？
    - 是否遗漏了物质条件、身体状态、社会结构的影响？


#### 3.6 伦理 / 法律层（伦理/法律学家视角）

- 使用边界
  - 明确声明：本工具不提供医疗、心理治疗或法律建议。
  - 提示适用年龄（例如不面向未成年人单独使用，或仅在监护人知情下使用）。
- 隐私与数据权利
  - 用户有权：查看、导出、彻底删除自己的全部数据；可以关闭任何形式的远程请求。
  - 若未来提供云端同步，需要清晰说明数据流向与存储地点，并提供“本地-only 模式”。
- 模型与偏见
  - 说明模型可能带有的偏见，鼓励用户对分析结果保持批判性。


## AI 与模型层需求

- 模型接入
  - 支持本地 Ollama，配置模型名称、参数（temperature、max_tokens 等）。
  - 预留未来扩展远程模型（如 OpenAI / 本地服务器）的接口，但默认关闭。
- 提示词设计
  - 每一分析层对应一个或多个“专家角色” Prompt（数据分析师、语言学家、心理学家、社会学家、哲学家、伦理学家等）。
  - 在系统层面保证调用顺序：数据/语言层 → 心理/情境层 → 反思/伦理层，避免直接从心理层切入。
- 可解释性
  - 每条分析结论尽量附带文本引用或摘要，引导用户“点回去查看原文片段”。
  - 对不确定的部分用概率或置信度语言表达（如“可能”“似乎”“看起来”），避免绝对化表述。


## 交互与界面需求（初步设想）

- 时间线视图
  - 以**周 / 月视图为主**展示记录密度与情绪趋势，日视图主要用于浏览原始记录，不鼓励对单日作“深层心理解读”。
  - 支持放大某一时间段（例如某几周 / 某几个月），展开该阶段的详细分析与关键事件。
- 单条记录视图
  - 上半部分为原文与元数据，下半部分为折叠式多层分析卡片（数据 / 语言 / 心理 / 情境 / 反思 / 伦理）。
  - 支持用户对每一层分析作出“有帮助/无感/不同意”等反馈。
- 周报 / 阶段性总结
  - 一键生成最近一周 / 一月的多层总结：关键事件、情绪走向、复发主题、可能的资源与风险点。
  - 提供可编辑草稿，用户可以在其基础上写自己的“人类总结版”。


## 多学科视角的需求补充

- 心理学家视角
  - 需要严格避免诊断性语言和病理化标签。
  - 更关注过程与变化，而非给出“结论”；强调资源、应对方式和支持系统。
- 数据科学家视角
  - 需要清晰的数据模型：记录、片段、主题、情绪评分、标签、分析结果等实体与关系。
  - 关注数据稀疏/偏倚问题，例如记录仅集中在情绪高涨时，导致分析结果偏颇。
- 语言学家视角
  - 关注中英混合、网络语、方言表达带来的理解挑战。
  - 需要保留原文细节与上下文，避免过度摘要导致语义偏差。
- 哲学家视角
  - 质疑工具本身：是否在加强某种“自我量化”“自我管理”的意识形态？
  - 设计可以“反过来质疑工具”的问题入口。
- 人类学 / 社会学视角
  - 强调将个体经验放回具体情境与文化之中理解。
  - 需要给用户空间记录制度、文化、群体规范等外部条件，而不仅仅是“我”的感受。
- 伦理 / 法律学家视角
  - 强调告知性同意（informed consent）：用户在使用前清楚了解范围与限制。
  - 关注数据泄露风险、误用风险（如被他人拿去监控、打分、绩效考核）。


## 行动路线图（草案）

### Phase 0：探索与原型

- 明确数据模型与基本分析层（数据层 + 语言层）。
- 搭建最小可用原型：
  - 手动导入少量文本；
  - 本地调用 Ollama 做简单分析；
  - 用非常简陋的 UI 显示“原文 + 简单指标 + 短评”。

### Phase 1：MVP（面向个人使用）

- 完整打通导入 → 分析 → 展示 → 导出闭环。
- 支持 Apple Notes / 文本导入，基础时间线视图和周报视图。
- 实现多层分析的最小集合：数据层 + 语言层 + 心理层（非诊断）+ 简单反思问题。
- 加入最基本的隐私与免责声明机制。

### Phase 2：多学科深化与用户反馈

- 引入情境层与伦理层，更系统地处理制度与环境因素。
- 优化 Prompt 与分析逻辑，让“禁止顺序倒置”在实现层面得到真实保证。
- 加入用户反馈回路：修正分析、收集常见偏差案例。

### Phase 3：可扩展能力

- 探索多端同步与云端扩展（在充分论证隐私与安全前，不作为默认能力）。
- 与其他知识/任务管理工具集成（Obsidian、Logseq、Notion 等）。
- 与专业工作场景（如心理咨询中的写作作业）协作可能性，在充分伦理审查前仅做探索。


> 本文档仍在持续迭代中，当前重点是：先把“看见脉络”的多层视角设计清楚，再决定如何用代码一步步、安全地实现它。